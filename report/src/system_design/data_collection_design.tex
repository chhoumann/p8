\section{Phase one: Data collection}\label{sec:knn_implementation}
As the quality of the system is reliant on the accuracy and precision of the map during this phase it is critical to create a map of high quality.
Therefore, steps must be taken to ensure this quality. 
\citeauthor{improving_indoor_localization}~\cite{improving_indoor_localization} suggests that measurements be taken by systematically partitioning the area in a grid and then performing measurements for each cell of the grid for n-seconds. 
We propose a design where, instead of having a fixed collection time, a fixed minimum number of measurements is received from each beacon.
We do this, as beacons broadcast on a fixed time-schedule \cite{apple2023ibeacon}.
This is done to ensure that all beacons have a representative set of measurements with low standard deviation when constructing the map.
To ensure a low standard deviation, we use the following procedure.
Data is collected from each beacon until a minimum threshold of n measurements with a standard deviation of x is reached.
As fluctuations can cause large deviations in the collected data, the data collection for a beacon is halted as soon as the prior condition is satisfied.
This process is then repeated for each cell in the grid to create the fingerprints needed to construct the map 
The average value from the collected measurements from each beacon is then used to create the final map. 
Here each cell in the map is labeled as being either inside or outside of the room. 


